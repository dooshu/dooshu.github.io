五星历步术


以法伏日度余加星合日度余，余满日度法得一从全，命之如前，得星见日及度余也。以星行分母乘见度分，如日度法得一，分不尽，半法以上亦得一，而日加所行分，分满其母得一度。逆顺母不同，以当行之母乘故分，如故母而一，当行分也。留者承前，逆则减之，伏不尽度，除斗分，以行母为率。分有损益，前后相御。

武帝侍中平原刘智，以斗历改宪，推《四分法》，三百年而减一日，以百五十为度法，三十七为斗分。推甲子为上元，至泰始十年，岁在甲午，九万七千四百一十一岁，上元天正甲子朔夜半冬至，日月五星始于星纪，得元首之端。饰以浮说，名为《正历》。

当阳侯杜预著《春秋长历》，说云：

日行一度，月行十三度十九分之七有奇，日官当会集此之迟疾，以考成晦朔，以设闰月。闰月无中气，而北斗邪指两辰之间，所以异于他月。积此以相通，四时八节无违，乃得成岁，其微密至矣。得其精微，以合天道，则事叙而不愆。故《传》曰：“闰以正时，时以作事。”然阴阳之运，随动而差，差而不已，遂与历错。故仲尼、丘明每于朔闰发文，盖矫正得失，因以宣明历数也。

刘子骏造《三正历》以修《春秋》，日蚀有甲乙者三十四，而《三正历》惟得一蚀，比诸家既最疏。又六千余岁辄益一日，凡岁当累日为次，而故益之，此不可行之甚者。

自古已来，诸论《春秋》者多违谬，或造家术，或用黄帝已来诸历，以推经传朔日，皆不谐合。日蚀于朔，此乃天验，《经传》又书其朔蚀，可谓得天，而刘贾诸儒说，皆以为月二日或三日，公违圣人明文，其弊在于守一元，不与天消息也。

余感《春秋》之事，尝著《历论》，极言历之通理。其大指曰：“天行不息，日月星辰各运其舍，皆动物也。物动则不一，虽行度有大量可得而限，累日为月，累月为岁，以新故相涉，不得不有毫末之差，此自然之理也。故春秋日有频月而蚀者，有旷年不蚀者，理不得一，而算守恒数，故历无不有先后也。始失于毫毛，而尚未可觉，积而成多，以失弦望晦朔，则不得不改宪以从之。《书》所谓“钦若昊天，历象日月星辰”，《易》所谓“治历明时”，言当顺天以求合，非为合以验天者也。推此论之，春秋二百余年，其治历变通多矣。虽数术绝灭，远寻《经传》微旨，大量可知，时之违谬，则《经传》有验。学者固当曲循《经传》月日、日蚀，以考晦朔，以推时验；而皆不然，各据其学，以推春秋，此无异于度己之迹，而欲削他人之足也。

余为《历论》之后，至咸宁中，善算者李修、卜显，依论体为术，名《乾度历》，表上朝廷。其术合日行四分数而微增月行，用三百岁改宪之意，二元相推，七十余岁，承以强弱，强弱之差盖少，而适足以远通盈缩。时尚书及史官，以《乾度》与《泰始历》参校古今记注，《乾度历》殊胜《泰始历》，上胜官历四十五事。今其术具存。又并考古今十历以验《春秋》，知《三统》之最疏也。

《春秋》大凡七百七十九日，（三百九十三《经》，三百八十六《传》。）其三十七日蚀。（三无甲乙。）

《黄帝》历得四百六十六日，一蚀。

《颛顼历》得五百九日，八蚀。

《夏历》得五百三十六日，十四蚀。

《真夏历》得四百六十六日，一蚀。

《殷历》得五百三日，十三蚀。

《周历》得五百六日，十三蚀。

《真周历》得四百八十五日，一蚀。

《鲁历》得五百二十九日，十三蚀。

《三统历》得四百八十四日，一蚀。

《乾象历》得四百九十五日，七蚀。

《泰始历》得五百一十日，十九蚀。

《乾度历》得五百三十八日，十九蚀。

今《长历》得七百四十六日，三十三蚀。（失三十三日，《经传》误；四日蚀，三无甲乙。）

汉末，宋仲子集七历以考《春秋》，案其夏、周二历术数，皆与《艺文志》所记不同，故更名为《真夏》《真周历》也。

穆帝永和八年，著作郎琅邪王朔之造《通历》，以甲子为上元，积九万七千年，四千八百八十三为纪法，千二百五为斗分，因其上元为开辟之始。

后秦姚兴时，当孝武太元九年，岁在甲申，天水姜岌造《三纪甲子元历》，其略曰：“治历之道，必审日月之行，然后可以上考天时，下察地化。一失其本，则四时变移。故仲尼之作《春秋》，日以继月，月以继时，时以继年，年以首事，明天时者人事之本，是以王者重之。自皇羲以降，暨于汉魏，各自制历，以求厥中。考其疏密，惟交会薄蚀可以验之。然书契所记，惟《春秋》著日蚀之变，自隐公讫于哀公，凡二百四十二年之间，日蚀三十有六，考其晦朔，不知用何历也。班固以为《春秋》因《鲁历》，《鲁历》不正，故置闰失其序。鲁以闰余一之岁为蔀首，检《春秋》置闰不与此蔀相符也。《命历序》曰：孔子为治《春秋》之故，退修殷之故历，使其数可传于后。如是，《春秋》宜用《殷历》正之。今考其交会，不与《殷历》相应，以《殷历》考《春秋》，月朔多不及其日，又以检《经》，率多一日，《传》率少一日。但《公羊》《经》《传》异朔，于理可从，而《经》有蚀朔之验，《传》为失之也。服虔解《传》用太极上元，太极上元乃《三统历》刘歆所造元也，何缘施于《春秋》？于《春秋》而用《汉历》，于义无乃远乎？《传》之违失多矣，不惟斯事而已。襄公二十七年冬十有一月乙亥朔，日有蚀之。《传》曰：‘辰在申，司历过，再失闰也。’考其去交分，交会应在此月，而不为再失闰也。案歆历于《春秋》日蚀一朔，其余多在二日。因附《五行传》，著朓与侧匿之说云：春秋时诸侯多失其政，故月行恒迟。歆不以历失天，而为之差说。日之蚀朔，此乃天验也，而歆反以己历非此，冤天而负时历也。杜预又以为周衰世乱，学者莫得其真，今之所传七历，皆未必是时王之术也。今诚以七家之历，以考古今交会，信无其验也，皆由斗分疏之所致也。《殷历》以四分一为斗分，《三统》以一千五百三十九分之三百八十五为斗分，《乾象》以五百八十九分之一百四十五为斗分，今《景初》以一千八百四十三分之四百五十五为斗分，疏密不同，法数各异。《殷历》斗分粗，故不施于今。《乾象》斗分细，故不得通于古。《景初》斗分虽在粗细之中，而日之所在乃差四度，日月亏已，皆不及其次，假使日在东井而蚀，以月验之，乃在参六度，差违乃尔，安可以考天时人事乎？今治新历，以二千四百五十一分之六百五为斗分，日在斗十七度，天正之首，上可以考合于《春秋》，下可以取验于今世。以之考《春秋》三十六蚀，正朔者二十有五，蚀二日者二，蚀晦者二，误者五，凡三十三蚀，其余蚀经无日讳之名，无以考其得失。图纬皆云“三百岁斗历改宪”。以今新历施于春秋之世，日蚀多在朔，春秋之世，下至于今，凡一千余岁，交会弦望故进退于三蚀之间，此法乃可永载用之，岂三百岁斗历改宪者乎？

甲子上元以来，至鲁隐公元年己未岁，凡八万二千七百三十六，至晋孝武太元九年甲申岁，凡八万三千八百四十一，算上。

元法，七千三百五十三。

纪法，二千四百五十一。

通数，十七万九千四十四。

日法，六千六十二。

月周，三万二千七百六十六。

气分，万二千八百六十。

元月，九万九百四十五。

纪月，三万三百一十五。

没分，四万四千七百六十一。

没法，六百四十三。

斗分，六百五。

周天，八十九万五千二百二十。（一名纪日。）

章月，二百三十五。

章岁，十九。

章闰，七。

岁中，十二。

会数，四十七。（日月八百九十三岁，凡四十七会，分尽。）

气中，十二。

甲子纪 交差，九千一百五十七。

甲申纪 交差，六千三百三十七。

甲辰纪 交差，三千五百一十七。

周半，一百二十七。

朔望合数，九百四十一。

会岁，八百九十三。

会月，万一千四十五。

小分，二千一百九十六。

章数，一百二十九。

小分，二千一百八十三。

周闰大分，七万六千二百六十九。

历周，四十四万七千六百一十。（半周天。）

会分，三万八千一百三十四。

差分，一万一千九百八十六。

会率，一千八百八十二。

小分法，二千二百九。

入交限，一万一百四。

小周，二百五十四。

甲子纪 差率，四万九千一百七十八。

甲申纪 差率，五万八千二百三十一。

甲辰纪 差率，六万七千二百八十四。

通周，十六万七千六十三。

周日日余，三千三百六十二。

周虚，二千七百一。

五星约法，据出见以为正，不系于元本。然则算步究于元初，约法施于今用，曲求其趣，则各有宜，故作者两设其法也。岌以月蚀检日宿度所在，为历术者宗焉。又著《浑天论》，以步日于黄道，驳前儒之失，并得其中矣。




